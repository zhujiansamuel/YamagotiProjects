<!doctype html>
<html lang="zh">
<head>
    <meta charset="utf-8"/>
    <title>AutoML Analysis Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        :root {
            --primary-color: #3b82f6;
            --secondary-color: #8b5cf6;
            --bg-color: #f9fafb;
            --card-bg: #ffffff;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", "PingFang SC", "Hiragino Sans", "Noto Sans CJK JP", Roboto, Arial;
            background-color: var(--bg-color);
            color: var(--text-primary);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 32px;
            border-radius: 16px;
            margin-bottom: 32px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .controls {
            background: var(--card-bg);
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .controls h2 {
            font-size: 20px;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .task-button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .task-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .task-button:active {
            transform: translateY(0);
        }

        .task-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .status-message {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .status-message.success {
            background-color: #d1fae5;
            color: #065f46;
            border: 1px solid #6ee7b7;
        }

        .status-message.error {
            background-color: #fee2e2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }

        .status-message.info {
            background-color: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }

        .results-section {
            background: var(--card-bg);
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
        }

        .results-section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 24px;
        }

        .image-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .image-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
        }

        .image-card-header {
            padding: 16px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .image-card-header h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .image-card-body {
            padding: 16px;
        }

        .image-card img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
        }

        .image-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 16px;
        }

        .image-card-footer {
            padding: 12px 16px;
            border-top: 1px solid var(--border-color);
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Mathematical Model Section Styles */
        .math-section {
            background: var(--card-bg);
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
        }

        .math-section h2 {
            font-size: 28px;
            margin-bottom: 24px;
            color: var(--text-primary);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 12px;
        }

        .math-section h3 {
            font-size: 22px;
            margin-top: 32px;
            margin-bottom: 16px;
            color: var(--primary-color);
        }

        .math-section h4 {
            font-size: 18px;
            margin-top: 24px;
            margin-bottom: 12px;
            color: var(--secondary-color);
        }

        .math-section p {
            margin-bottom: 16px;
            line-height: 1.8;
        }

        .math-section ul {
            margin-left: 24px;
            margin-bottom: 16px;
        }

        .math-section li {
            margin-bottom: 8px;
        }

        .formula-block {
            background: #f8fafc;
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            overflow-x: auto;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .highlight-box h4 {
            margin-top: 0;
            color: var(--primary-color);
        }

        @media (max-width: 768px) {
            .image-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 24px;
            }

            .math-section {
                padding: 20px;
            }

            .math-section h2 {
                font-size: 24px;
            }

            .math-section h3 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AutoML Analysis Dashboard</h1>
            <p>Machine Learning and Deep Learning Results Visualization - å¤šåº—é“ºÃ—å¤šæœºç§Ã—æ—¶é—´çš„å› æœåˆ†æç³»ç»Ÿ</p>
        </header>

        <div class="controls">
            <h2>Analysis Tasks</h2>

            <div id="statusMessage" class="status-message"></div>

            <div class="button-group">
                <button class="task-button" onclick="triggerTask('preprocessing-rapid')">
                    ğŸš€ Preprocessing Rapid
                </button>
                <button class="task-button" onclick="triggerTask('cause-and-effect-testing')">
                    ğŸ”¬ Cause and Effect Testing
                </button>
                <button class="task-button" onclick="triggerTask('quantification-of-impact')">
                    ğŸ“Š Quantification of Impact
                </button>
            </div>
        </div>

        <!-- Mathematical Model Description -->
        <div class="math-section">
            <h2>ğŸ“ æ•°å­¦æ¨¡å‹ï¼šå¤šåº—é“º Ã— å¤šæœºç§ Ã— æ—¶é—´çš„å› æœåˆ†ææ¡†æ¶</h2>

            <p>æœ¬ç³»ç»Ÿé‡‡ç”¨ç»Ÿä¸€çš„æ•°å­¦ç¬¦å·ä½“ç³»æ¥æè¿°"å¤šåº—é“º Ã— å¤šæœºç§ Ã— æ—¶é—´"çš„ä»·æ ¼åŠ¨æ€ï¼Œæ”¯æŒå› æœåˆ†æã€VARå»ºæ¨¡å’Œç‰¹å¾å·¥ç¨‹ã€‚</p>

            <h3>1. ç´¢å¼•ä¸é›†åˆ</h3>

            <h4>åº—é“ºé›†åˆ</h4>
            <div class="formula-block">
                $$\mathcal{S} = \{1,2,\dots,S\}, \quad s \in \mathcal{S}$$
            </div>
            <p>ä¾‹å¦‚ï¼šæµ·å³¡é€šä¿¡ã€ã‚¢ã‚­ãƒ¢ãƒã€è²·å–ä¸€ä¸ç›®ã€æ£®æ£®è²·å– ç­‰ã€‚</p>

            <h4>æœºç§/å‹å·é›†åˆï¼ˆç²¾ç»†åˆ°å‹å·Ã—å®¹é‡Ã—é¢œè‰²çš„SKUï¼‰</h4>
            <div class="formula-block">
                $$\mathcal{P} = \{1,2,\dots,P\}, \quad p \in \mathcal{P}$$
            </div>
            <p>å¯¹åº”æ•°æ®åº“é‡Œçš„ Iphone / part_number æˆ– "model Ã— capacity Ã— color" å”¯ä¸€ç»„åˆã€‚</p>

            <h4>ç¦»æ•£æ—¶é—´ï¼ˆåˆ†é’Ÿçº§bucketï¼‰</h4>
            <div class="formula-block">
                $$\mathcal{T} = \{\dots, t-1, t, t+1, \dots\}, \quad t \in \mathbb{Z}$$
            </div>
            <p>ç­‰é—´éš”æ—¶é—´ç‚¹ï¼ˆæ¯1åˆ†é’Ÿã€æ¯15åˆ†é’Ÿï¼‰ï¼Œç³»ç»Ÿä¸­ä¸ºJSTå¯¹é½åçš„ bucket_start_tsã€‚</p>

            <h3>2. åŸå§‹è§‚æµ‹æ•°æ®ï¼šå¤šç»´å¼ é‡è¡¨ç¤º</h3>

            <p>å¯¹æ¯ä¸€ä¸ªã€Œåº—é“º \(s\) Ã— æœºç§ \(p\) Ã— æ—¶é—´ \(t\)ã€ï¼Œè§‚æµ‹åˆ°å¤šä¸ªå˜é‡ï¼š</p>

            <h4>ä»·æ ¼ï¼ˆå›æ”¶ä»·ï¼‰</h4>
            <div class="formula-block">
                $$P_{s,p,t} \in \mathbb{R}_{+}$$
            </div>

            <h4>å¯ç”¨åº“å­˜æ•°é‡ï¼ˆå¯é€‰ï¼‰</h4>
            <div class="formula-block">
                $$Q_{s,p,t} \in \mathbb{N}_0$$
            </div>

            <h4>å…¶ä»–å±æ€§ç‰¹å¾å‘é‡</h4>
            <div class="formula-block">
                $$\mathbf{F}_{s,p,t} \in \mathbb{R}^{K}$$
            </div>

            <p>æ•´ä½“ä¸Šæœ‰ä¸€ä¸ªä¸‰ç»´ï¼ˆç”šè‡³å››ç»´ï¼‰å¼ é‡ï¼š</p>
            <div class="formula-block">
                $$\mathbf{X}_t = \left\{ X_{s,p,t} \right\}_{s \in \mathcal{S},\, p \in \mathcal{P}}$$
            </div>

            <p>å…¶ä¸­æ¯ä¸ªå…ƒç´  \(X_{s,p,t}\) æ˜¯ä¸€ä¸ªç‰¹å¾å‘é‡ï¼š</p>
            <div class="formula-block">
                $$X_{s,p,t} = \big(P_{s,p,t}, Q_{s,p,t}, \mathbf{F}_{s,p,t}\big) \in \mathbb{R}^{1+1+K}$$
            </div>

            <div class="highlight-box">
                <h4>ğŸ’¡ ç›´è§‚ç†è§£</h4>
                <p>æ¯ä¸ªæ—¶é—´ \(t\)ï¼Œæœ‰ä¸€ä¸ª "åº— Ã— æœºç§" çš„å¤§è¡¨æ ¼ï¼Œæ ¼å­é‡Œæ”¾çš„æ˜¯è¿™ä¸ªåº—å¯¹è¿™ä¸ªæœºç§çš„å„ç§æ•°å€¼ç‰¹å¾ã€‚</p>
            </div>

            <h3>3. æ•°æ®æ¸…æ´—ä¸å¯¹é½ï¼ˆå¯¹åº”PSTAæ¨¡å‹ï¼‰</h3>

            <h4>3.1 æ¸…æ´—ï¼ˆå»å¼‚å¸¸ï¼‰</h4>
            <p>å®šä¹‰æ¸…æ´—ç®—å­ \(C(\cdot)\)ï¼š</p>
            <div class="formula-block">
                $$\tilde{P}_{s,p,t} = C\big(P_{s,p,t}\big)$$
            </div>
            <ul>
                <li>è‹¥ \(P_{s,p,t} < 10000\) æˆ– \(P_{s,p,t} > 350000\) åˆ™æ ‡è®°ä¸ºç¼ºå¤±æˆ–ä¸¢å¼ƒ</li>
                <li>å¦åˆ™ä¿ç•™åŸå€¼</li>
            </ul>

            <h4>3.2 æ—¶é—´å¯¹é½ï¼ˆbucketåŒ–ï¼‰</h4>
            <p>PSTAå¯¹åŒä¸€æ—¶é—´bucketå†…çš„è®°å½•åšèšåˆï¼š</p>
            <div class="formula-block">
                $$\bar{P}_{s,p,t} = \operatorname{Agg}\big(\{\tilde{P}_{s,p,\tau}\ |\ \tau \in \text{bucket}(t)\}\big)$$
            </div>
            <p>å…¶ä¸­ï¼š</p>
            <ul>
                <li>\(\text{bucket}(t)\) æ˜¯è½åœ¨è¯¥æ—¶é—´æ¡¶å†…çš„åŸå§‹æ—¶é—´ç‚¹é›†åˆ</li>
                <li>\(\operatorname{Agg}(\cdot)\) å¯ä»¥æ˜¯å¹³å‡å€¼ã€åŠ æƒå¹³å‡ã€ä¸­ä½æ•°ç­‰</li>
            </ul>

            <p>å¾—åˆ°å¯¹é½åï¼ˆæ—¶é—´æ¡¶çº§ï¼‰çš„ä¸»ä»·æ ¼åºåˆ—ï¼š</p>
            <div class="formula-block">
                $$\bar{P}_{s,p,t}, \quad t \in \mathcal{T}$$
            </div>

            <h3>4. å¹³ç¨³åŒ–ä¸æ ‡å‡†åŒ–ï¼šä»·æ ¼å˜åŒ–è¿‡ç¨‹</h3>

            <h4>4.1 å¯¹æ•°ä¸å·®åˆ†</h4>
            <p>ä¸ºå¤„ç†æ¯”ä¾‹å˜åŒ–ã€æ¶ˆé™¤è¶‹åŠ¿ï¼Œå…ˆå–å¯¹æ•°ï¼š</p>
            <div class="formula-block">
                $$Y_{s,p,t} = \log \bar{P}_{s,p,t}$$
            </div>

            <p>ç„¶ååœ¨æ—¶é—´ä¸Šåšä¸€é˜¶å·®åˆ†å¾—åˆ°"æ¶¨è·Œå¹…"ï¼š</p>
            <div class="formula-block">
                $$\Delta Y_{s,p,t} = Y_{s,p,t} - Y_{s,p,t-1}$$
            </div>
            <p>è¿™æ˜¯ä¸€ä¸ªå¹³ç¨³æ—¶é—´åºåˆ—è¿‘ä¼¼ï¼Œä»£è¡¨åœ¨ \(t\) æ—¶åˆ»ç›¸å¯¹äº \(t-1\) çš„ä»·æ ¼å˜åŒ–ï¼ˆä»¥logå½¢å¼ï¼‰ã€‚</p>

            <h4>4.2 Z-scoreæ ‡å‡†åŒ–ï¼ˆè·¨åº—ã€è·¨æœºç§å¯æ¯”ï¼‰</h4>
            <p>ä¸ºäº†è®©ä¸åŒåº—ã€ä¸åŒæœºç§çš„åºåˆ—åœ¨åŒä¸€æ•°å€¼å°ºåº¦ä¸Šè¿›è¡Œå› æœå’ŒVARåˆ†æï¼Œå¯¹ \(\Delta Y_{s,p,t}\) åšæ ‡å‡†åŒ–ã€‚</p>

            <p>å®šä¹‰åœ¨æ—¶é—´çª—å£ \(\mathcal{T}_0\) ä¸Šçš„å‡å€¼å’Œæ ‡å‡†å·®ï¼š</p>
            <div class="formula-block">
                $$\mu_{s,p} = \mathbb{E}_{t \in \mathcal{T}_0}[\Delta Y_{s,p,t}], \qquad
\sigma_{s,p} = \operatorname{Std}_{t \in \mathcal{T}_0}[\Delta Y_{s,p,t}]$$
            </div>

            <p>ç„¶åè®¡ç®—æ ‡å‡†åŒ–å˜é‡ï¼š</p>
            <div class="formula-block">
                $$Z_{s,p,t} = \frac{\Delta Y_{s,p,t} - \mu_{s,p}}{\sigma_{s,p}}$$
            </div>

            <div class="highlight-box">
                <h4>ğŸ¯ å…³é”®å˜é‡</h4>
                <p>\(Z_{s,p,t}\) æ˜¯è¿›è¡Œå› æœåˆ†æã€å»ºVARæ¨¡å‹ã€å­¦ä¹ å›¾ç»“æ„æ—¶çš„<strong>ä¸»å·¥ä½œå˜é‡</strong>ã€‚</p>
            </div>

            <h3>5. æŒ‰æœºç§èšåˆï¼šè·¨åº—çš„å‘é‡æ—¶é—´åºåˆ—</h3>

            <p>å¯¹æ¯ä¸€ä¸ªæœºç§ \(p \in \mathcal{P}\)ï¼Œæ•´ç†å‡ºä¸€ä¸ª"è·¨åº—å‘é‡"åºåˆ—ï¼š</p>
            <div class="formula-block">
                $$\mathbf{z}_{p,t} =
\begin{bmatrix}
Z_{1,p,t} \\
Z_{2,p,t} \\
\vdots \\
Z_{S,p,t}
\end{bmatrix}
\in \mathbb{R}^{S}, \quad t \in \mathcal{T}$$
            </div>

            <p>è¿™è¡¨ç¤ºï¼šåœ¨æ—¶é—´ \(t\) æ—¶åˆ»ï¼Œå¯¹æœºç§ \(p\) æ¥è¯´ï¼Œæ‰€æœ‰åº—é“ºåœ¨è¿™ä¸€åˆ»çš„"æ ‡å‡†åŒ–ä»·æ ¼å˜åŒ–"ç»„æˆä¸€ä¸ª \(S\) ç»´å‘é‡ã€‚</p>

            <p>äºæ˜¯å¯¹äºæ¯ä¸€ä¸ªæœºç§ \(p\)ï¼Œæœ‰ä¸€ä¸ªå¤šå˜é‡æ—¶é—´åºåˆ—ï¼š</p>
            <div class="formula-block">
                $$\{\mathbf{z}_{p,t}\}_{t \in \mathcal{T}}$$
            </div>

            <p>è¿™å°†ç›´æ¥ä½œä¸ºï¼š</p>
            <ul>
                <li>VAR / SVAR æ¨¡å‹çš„è¾“å…¥</li>
                <li>Granger å› æœæµ‹è¯•çš„è¾“å…¥</li>
                <li>åŠ¨æ€å› æœå›¾ï¼ˆDAGï¼‰çš„å­¦ä¹ è¾“å…¥</li>
            </ul>

            <h3>6. ç»“æ„æ¨¡å‹ï¼ˆä»¥VARä¸ºä¾‹ï¼‰</h3>

            <p>å¯¹å›ºå®šæœºç§ \(p\)ï¼Œä¸€ä¸ªæ ‡å‡†çš„ VAR(\(L\)) æ¨¡å‹å¯ä»¥å†™æˆï¼š</p>
            <div class="formula-block">
                $$\mathbf{z}_{p,t}
=
A^{(p)}_1 \mathbf{z}_{p,t-1}
+ A^{(p)}_2 \mathbf{z}_{p,t-2}
+ \dots
+ A^{(p)}_L \mathbf{z}_{p,t-L}
+ \boldsymbol{\varepsilon}_{p,t}$$
            </div>

            <p>å…¶ä¸­ï¼š</p>
            <ul>
                <li>\(\mathbf{z}_{p,t} \in \mathbb{R}^S\)ï¼šæœºç§ \(p\) åœ¨æ—¶é—´ \(t\) çš„è·¨åº—ä»·æ ¼å˜åŒ–å‘é‡</li>
                <li>\(A^{(p)}_\ell \in \mathbb{R}^{S \times S}\)ï¼šæ»å \(\ell\) å¯¹åº”çš„å½±å“çŸ©é˜µ</li>
                <li>\(\boldsymbol{\varepsilon}_{p,t} \sim \mathcal{N}(0, \Sigma_p)\)ï¼šå™ªå£°é¡¹</li>
            </ul>

            <div class="highlight-box">
                <h4>ğŸ“Š è§£é‡Š</h4>
                <ul>
                    <li>\(A^{(p)}_\ell(i,j)\) è¡¨ç¤ºï¼šåœ¨æœºç§ \(p\) ä¸Šï¼Œåº— \(j\) åœ¨æ—¶é—´ \(t-\ell\) çš„ä»·æ ¼å˜åŒ–ï¼Œå¯¹åº— \(i\) åœ¨æ—¶é—´ \(t\) çš„ä»·æ ¼å˜åŒ–çš„çº¿æ€§å½±å“å¼ºåº¦</li>
                    <li>è‹¥ \(A^{(p)}_\ell(i,j)\) åœ¨ç»Ÿè®¡ä¸Šæ˜¾è‘—éé›¶ï¼Œå¯ä»¥è§£é‡Šä¸º"åº— \(j\) çš„å˜åŒ–ï¼ˆåœ¨æ»å \(\ell\)ï¼‰Grangerå› æœåœ°å½±å“åº— \(i\)"</li>
                </ul>
            </div>

            <p>å¯ä»¥å¯¹æ¯ä¸ªæœºç§ \(p\) ä¼°è®¡ä¸€æ•´å¥—çŸ©é˜µ \(A^{(p)}_{1..L}\)ï¼Œä¹Ÿå¯ä»¥æŠŠå¤šæœºç§æ‹¼æˆæ›´å¤§çš„å—ç»“æ„æ¨¡å‹ã€‚</p>

            <h3>7. å› æœå›¾è¡¨ç¤ºï¼ˆè·¨åº—ã€è·¨æœºç§ï¼‰</h3>

            <p>å¯ä»¥æŠŠä¸Šé¢çš„VARå‚æ•°æˆ–Grangerç»“æœè½¬åŒ–ä¸ºä¸€ä¸ªæœ‰å‘å›¾ï¼š</p>

            <h4>å›¾çš„èŠ‚ç‚¹</h4>
            <p>å¯ä»¥æ˜¯ã€Œåº—é“ºç»´åº¦ã€æˆ–ã€Œåº—é“º Ã— æœºç§ç»´åº¦ã€ï¼š</p>
            <div class="formula-block">
                $$\mathcal{V} = \{(s,p)\ |\ s \in \mathcal{S}, p \in \mathcal{P}\}$$
            </div>

            <h4>æœ‰å‘è¾¹</h4>
            <div class="formula-block">
                $$(s',p) \to (s,p)$$
            </div>
            <p>è‹¥å­˜åœ¨æŸä¸ªæ»å \(\ell\)ï¼Œä½¿å¾—åœ¨æœºç§ \(p\) ä¸Šçš„VARä¸­ \(A^{(p)}_\ell(s, s')\) æ˜¾è‘—éé›¶ã€‚</p>

            <p>è¿™æ ·å¯ä»¥æ„é€ å‡ºä¸€ä¸ª<strong>"å¸‚åœºå› æœç½‘ç»œ"</strong>ï¼š</p>
            <ul>
                <li>å“ªäº›åº—æ˜¯ <strong>price leader</strong>ï¼ˆå‡ºåº¦å¤§ã€å½±å“å¼ºï¼‰</li>
                <li>å“ªäº›åº—æ˜¯ <strong>follower</strong>ï¼ˆå…¥åº¦å¤§ï¼‰</li>
                <li>ä¸åŒæœºç§ \(p\) ä¸Šçš„ç»“æ„æ˜¯å¦ä¸åŒ</li>
            </ul>

            <h3>8. æ€»ç»“</h3>

            <div class="highlight-box">
                <h4>ğŸ¯ æ ¸å¿ƒæ¦‚è¿°</h4>
                <p>æœ¬ç³»ç»Ÿå¤„ç†ä¸€ä¸ªä¸‰ç»´æ—¶é—´åºåˆ—ï¼š</p>
                <div class="formula-block">
                    $$\big\{X_{s,p,t}\big\}_{s \in \mathcal{S},\, p \in \mathcal{P},\, t \in \mathcal{T}}$$
                </div>
                <p>å…¶ä¸­ \(X_{s,p,t}\) ä¸»è¦åŒ…å«ä»·æ ¼ \(P_{s,p,t}\) ç­‰ç‰¹å¾ã€‚</p>

                <p><strong>å¤„ç†æµç¨‹ï¼š</strong></p>
                <ol>
                    <li>æ¸…æ´—ã€æ—¶é—´å¯¹é½ã€å·®åˆ†ä¸æ ‡å‡†åŒ– â†’ å¾—åˆ°å¹³ç¨³çš„ä»·æ ¼å˜åŒ–è¿‡ç¨‹ \(Z_{s,p,t}\)</li>
                    <li>æŒ‰æœºç§ \(p\) ç»„ç»‡æˆè·¨åº—å‘é‡æ—¶é—´åºåˆ— \(\mathbf{z}_{p,t}\)</li>
                    <li>æ„å»º VAR / å› æœæ¨¡å‹</li>
                    <li>å­¦ä¹ å’Œåˆ†æåº—é“ºä¹‹é—´éšæ—¶é—´æ¼”åŒ–çš„å› æœç»“æ„ä¸ä»·æ ¼ä¼ å¯¼å…³ç³»</li>
                </ol>
            </div>
        </div>

        <div class="results-section">
            <h2>Analysis Results</h2>
            <div class="image-grid" id="imageGrid">
                <!-- Image cards will be dynamically added here -->
                <div class="image-card">
                    <div class="image-card-header">
                        <h3>Sample Result</h3>
                    </div>
                    <div class="image-card-body">
                        <div class="image-placeholder">
                            No results yet. Run an analysis task to see results.
                        </div>
                    </div>
                    <div class="image-card-footer">
                        Waiting for analysis...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showStatus(message, type = 'info') {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.className = `status-message ${type}`;
            statusEl.style.display = 'block';

            setTimeout(() => {
                statusEl.style.display = 'none';
            }, 5000);
        }

        async function triggerTask(taskName) {
            const button = event.target;
            button.disabled = true;

            try {
                showStatus(`Triggering ${taskName}...`, 'info');

                const response = await fetch(`/AppleStockChecker/automl/trigger/${taskName}/`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken')
                    }
                });

                const data = await response.json();

                if (response.ok) {
                    showStatus(data.message || `Task ${taskName} triggered successfully!`, 'success');
                } else {
                    showStatus(data.error || 'Failed to trigger task', 'error');
                }
            } catch (error) {
                showStatus(`Error: ${error.message}`, 'error');
            } finally {
                button.disabled = false;
            }
        }

        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        // Function to add image to grid (for future use)
        function addImageToGrid(title, imagePath, timestamp) {
            const imageGrid = document.getElementById('imageGrid');

            const card = document.createElement('div');
            card.className = 'image-card';
            card.innerHTML = `
                <div class="image-card-header">
                    <h3>${title}</h3>
                </div>
                <div class="image-card-body">
                    <img src="${imagePath}" alt="${title}" onerror="this.parentElement.innerHTML='<div class=\\'image-placeholder\\'>Failed to load image</div>'">
                </div>
                <div class="image-card-footer">
                    Generated: ${timestamp || new Date().toLocaleString()}
                </div>
            `;

            imageGrid.appendChild(card);
        }
    </script>
</body>
</html>
